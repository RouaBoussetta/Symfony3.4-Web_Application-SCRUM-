{% extends 'base.html.twig' %}

    {% block javascripts %}
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

        <script>
            $(document).ready(function(){
                $('#myInput').keyup(function(){
                    search_table($(this).val());
                });
                function search_table(value){
                    $('#myTable tr').each(function(){
                        var found = 'false';
                        $(this).each(function(){
                            if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)
                            {
                                found = 'true';
                            }
                        });
                        if(found == 'true')
                        {
                            $(this).show();
                        }
                        else
                        {
                            $(this).hide();
                        }
                    });
                }
            });
        </script>
    {% endblock %}

{% block container %}

{#

    <div class="container-fluid">

    <!-- start page title -->
    <div class="row">
        <div class="col-12" >
            <div class="page-title-box">
                <div class="page-title-right">
                    <ol class="breadcrumb m-0">
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Titan</a></li>
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Apps</a></li>
                        <li class="breadcrumb-item active">Projects</li>
                    </ol>
                </div>
                <h4 class="page-title">All Projects</h4>
            </div>
        </div>
    </div>
    <!-- end page title -->

    <div class="card" >
    <div class="card-body">
        <div class="row">
            <div class="col-12 text-center">
                <div class="heading">
                    <h1 class="section-title">Latest Project</h1>
                    <h4 class="sub-title">You can show more details ,edit or delete your projects from here ! </h4>
                    <br>
                    <br>
                </div>











                <div class="container h-100">
                    <div class="d-flex justify-content-center h-100" >

                 <div class="searchbar">
                            <input class="search_input" type="text" id="myInput" name="" placeholder="Search...">
                            <a href="{{path('Search')}}" class="search_icon"><i class="fas fa-search"></i></a>
                        </div>


                </div>
                </div>





                <br>
            </div>

        </div>  <!-- end row -->
    </div>
    <table class="table table-striped" style="width: 60%;
    margin-left: auto;
    margin-right: auto" id ="myTable">
        <tr>

            <th scope="col">projectTitle</th>
            <th scope="col">category</th>
            <th scope="col">Actions</th>



        </tr>
        {% for project in projects %}
            <tr>

                <td>{{ project.projectTitle }}</td>
                <td>{{ project.category }}</td>


                <td>
                    <ul>
                        <li>

                            <a href="{{ path('project_show', { 'idProject': project.idProject }) }}" class="action-icon"><i class="mdi mdi-square-edit-outline"></i>show</a>
                        </li>
                        <li>
                            <a href="{{ path('project_edit', { 'idProject': project.idProject }) }}" class="action-icon"><i class="mdi mdi-square-edit-outline"></i>edit</a>
                        </li>

                    </ul>




                </td>



            </tr>
        {% endfor %}
    </table>

    <li>
        <h2>Filter by category </h2>
        <form method="POST">
            <input type="text" name="category" >
            <input type="submit" value="search"  >
        </form>
    </li>
#}
    <div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="page-title-box">
                <div class="page-title-right">
                    <ol class="breadcrumb m-0">
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Hyper</a></li>
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Apps</a></li>
                        <li class="breadcrumb-item active">Projects</li>
                    </ol>
                </div>
                <h4 class="page-title">Projects</h4>
            </div>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-sm-4">
            <a href="{{ path('project_new') }}" class="btn btn-danger btn-rounded mb-3"><i class="mdi mdi-plus"></i> Create Project</a>
        </div>
        <div class="col-sm-8">
            <div class="text-sm-right">
                <div class="btn-group mb-3">
                    <button type="button" class="btn btn-primary">All</button>
                </div>
                <div class="btn-group mb-3 ml-1">
                    <button type="button" class="btn btn-light">Ongoing</button>
                    <button type="button" class="btn btn-light">Finished</button>
                </div>
                <div class="btn-group mb-3 ml-2 d-none d-sm-inline-block">
                    <button type="button" class="btn btn-secondary"><i class="dripicons-view-apps"></i></button>
                </div>
                <div class="btn-group mb-3 d-none d-sm-inline-block">
                    <button type="button" class="btn btn-link text-muted"><i class="dripicons-checklist"></i></button>
                </div>
            </div>
        </div><!-- end col-->
    </div>
    <!-- end row-->

    <div class="row">
        {% for project in projects %}
        <div class="col-md-6 col-xl-3">
            <!-- project card -->
            <div class="card d-block">
                <div class="card-body">
                    <div class="dropdown card-widgets">
                        <a href="#" class="dropdown-toggle arrow-none" data-toggle="dropdown" aria-expanded="false">
                            <i class="dripicons-dots-3"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <!-- item-->
                            <a href="{{ path('project_edit', { 'idProject': project.idProject }) }}" class="dropdown-item"><i class="mdi mdi-pencil mr-1"></i>Edit</a>
                            <!-- item-->
                            <a href="{{ path('project_show', { 'idProject': project.idProject }) }}" class="dropdown-item"><i class="mdi mdi-eye mr-1"></i>Details</a>

                        </div>
                    </div>
                    <!-- project title-->
                    <h4 class="mt-0">
                        <a href="apps-projects-details.html" class="text-title">{{ project.projectTitle }}</a>
                    </h4>
                    <div class="badge badge-success mb-3">Finished</div>

                    <p class="text-muted font-13 mb-3">{{ project.description }}<a href="javascript:void(0);" class="font-weight-bold text-muted"></a>
                    </p>

                    <!-- project detail-->
                    <p class="mb-1">
                                            <span class="pr-2 text-nowrap mb-2 d-inline-block">
                                                <i class="mdi mdi-format-list-bulleted-type text-muted"></i>
                                                <b>{{ project.category }}</b>
                                            </span>
                        <span class="text-nowrap mb-2 d-inline-block">
                                                <i class="mdi mdi-comment-multiple-outline text-muted"></i>
                                                <b>741</b> Comments
                                            </span>
                    </p>

                </div> <!-- end card-body-->


            </div> <!-- end card-->


        </div> <!-- end col -->


                    <!-- project title-->
        {% endfor %}
    </div>
    <!-- end row-->



{% endblock %}